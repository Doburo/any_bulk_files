let gachaInfoList =[
               {
                  "itemRarity":5,
                  "gachaResultType":1,
                  "chance":0.8,
                  "color" : '#ffea89',
                  "items":[
                     {
                        "itemType":4001000,
                        "name":"Green April Anaak"
                     },
                     {
                        "itemType":4005000,
                        "name":"Khun Ran"
                     },
                     {
                        "itemType":4012000,
                        "name":"Sachi Faker"
                     },
                     {
                        "itemType":4013000,
                        "name":"Verdi"
                     },
                     {
                        "itemType":4017000,
                        "name":"Yuri Ha"
                     },
                     {
                        "itemType":4021000,
                        "name":"Hunter Rak"
                     },
                     {
                        "itemType":4036000,
                        "name":"Hansung Yu"
                     },
                     {
                        "itemType":4038000,
                        "name":"Hwaryun"
                     },
                     {
                        "itemType":4040000,
                        "name":"Daniel Hatchid"
                     },
                     {
                        "itemType":4041000,
                        "name":"Xiaxia"
                     },
                     {
                        "itemType":4044000,
                        "name":"Urek Mazino"
                     },
                     {
                        "itemType":4051000,
                        "name":"Reflejo"
                     },
                     {
                        "itemType":4057000,
                        "name":"Beta"
                     },
                     {
                        "itemType":4058000,
                        "name":"Cassano"
                     },
                     {
                        "itemType":4094000,
                        "name":"Evan"
                     }
                  ]
               },
               {
                  "itemRarity":5,
                  "gachaResultType":2,
                  "chance":0.2,
                  "color" : '#ffea89',
                  "items":[
                     {
                        "itemType":3009601,
                        "name":"Green April (Transformed)"
                     },
                     {
                        "itemType":3009602,
                        "name":"Black March"
                     },
                     {
                        "itemType":3009603,
                        "name":"Blue Lightning Nucleus"
                     },
                     {
                        "itemType":3009604,
                        "name":"Hairpin of Noble Power"
                     },
                     {
                        "itemType":3009605,
                        "name":"White Heavenly Mirror"
                     },
                     {
                        "itemType":3009606,
                        "name":"Exploding Knuckle Blade"
                     },
                     {
                        "itemType":3009607,
                        "name":"Mad Shocker"
                     },
                     {
                        "itemType":3009608,
                        "name":"Bong Bong"
                     },
                     {
                        "itemType":3009609,
                        "name":"Thorn"
                     },
                     {
                        "itemType":3009610,
                        "name":"Hairpin of Shinsu Control"
                     },
                     {
                        "itemType":3009611,
                        "name":"Red Twin Blades"
                     },
                     {
                        "itemType":3009612,
                        "name":"Black Rabbit Bomb"
                     },
                     {
                        "itemType":3009613,
                        "name":"Mazino Wing Tree"
                     },
                     {
                        "itemType":3009614,
                        "name":"Frog Fisher"
                     },
                     {
                        "itemType":3009615,
                        "name":"Dark Shinsu's Reaper"
                     },
                     {
                        "itemType":3009616,
                        "name":"Living Ignition Weapon_Proto Type"
                     },
                     {
                        "itemType":3009619,
                        "name":"Cassano's Left Arm"
                     },
                     {
                        "itemType":3009627,
                        "name":"Necromance"
                     },
                     {
                        "itemType":3009628,
                        "name":"Crimson Rose"
                     },
                     {
                        "itemType":3009630,
                        "name":"Cosmic Pure Octopus"
                     },
                     {
                        "itemType":3009701,
                        "name":"Jahad Laevateinn"
                     },
                     {
                        "itemType":3009702,
                        "name":"FUG Wand"
                     },
                     {
                        "itemType":3009703,
                        "name":"Guardian Bow"
                     },
                     {
                        "itemType":3009704,
                        "name":"Blue Rune Angelic Spear"
                     }
                  ]
               },
               {
                  "itemRarity":4,
                  "gachaResultType":1,
                  "chance":3,
                  "color" : '#c9bcef',
                  "items":[
                     {
                        "itemType":4003000,
                        "name":"Endorsi"
                     },
                     {
                        "itemType":4004000,
                        "name":"Hatz"
                     },
                     {
                        "itemType":4010000,
                        "name":"Horyang"
                     },
                     {
                        "itemType":4011000,
                        "name":"Miseng"
                     },
                     {
                        "itemType":4020000,
                        "name":"Khun A. A."
                     },
                     {
                        "itemType":4027000,
                        "name":"Lo Po Bia Ren"
                     },
                     {
                        "itemType":4052000,
                        "name":"Rachel"
                     },
                     {
                        "itemType":4061000,
                        "name":"Wangnan Ja"
                     },
                     {
                        "itemType":4062000,
                        "name":"Laure"
                     },
                     {
                        "itemType":4064000,
                        "name":"Love"
                     },
                     {
                        "itemType":4066000,
                        "name":"Novick"
                     },
                     {
                        "itemType":4069000,
                        "name":"Quant Blitz"
                     },
                     {
                        "itemType":4072000,
                        "name":"Shibisu"
                     },
                     {
                        "itemType":4073000,
                        "name":"Varagav"
                     },
                     {
                        "itemType":4093000,
                        "name":"Mini Rak"
                     },
                     {
                        "itemType":4151000,
                        "name":"Boro"
                     }
                  ]
               },
               {
                  "itemRarity":4,
                  "gachaResultType":2,
                  "chance":2,
                  "color" : '#c9bcef',
                  "items":[
                     {
                        "itemType":3009401,
                        "name":"Redeye Needle"
                     },
                     {
                        "itemType":3009402,
                        "name":"Donghae"
                     },
                     {
                        "itemType":3009403,
                        "name":"Shinsu Gauntlet"
                     },
                     {
                        "itemType":3009404,
                        "name":"Suspicious Messenger Bag"
                     },
                     {
                        "itemType":3009405,
                        "name":"Ren's Flail"
                     },
                     {
                        "itemType":3009406,
                        "name":"Yellow Lighthouse"
                     },
                     {
                        "itemType":3009407,
                        "name":"Cozy Blanket"
                     },
                     {
                        "itemType":3009408,
                        "name":"Ignition Gauntlet"
                     },
                     {
                        "itemType":3009409,
                        "name":"Rabbit Doll"
                     },
                     {
                        "itemType":3009410,
                        "name":"Blue Gloves"
                     },
                     {
                        "itemType":3009411,
                        "name":"Antimatter Bomb"
                     },
                     {
                        "itemType":3009412,
                        "name":"Twin Circle Boomerang"
                     },
                     {
                        "itemType":3009413,
                        "name":"Quick Gloves"
                     },
                     {
                        "itemType":3009414,
                        "name":"Super Lethal King Of Majesty Observer"
                     },
                     {
                        "itemType":3009415,
                        "name":"Rassen Kunai"
                     },
                     {
                        "itemType":3009416,
                        "name":"Pink Kukri"
                     },
                     {
                        "itemType":3009417,
                        "name":"Attract Blade"
                     },
                     {
                        "itemType":3009418,
                        "name":"Angelic Blade"
                     },
                     {
                        "itemType":3009419,
                        "name":"Dark Chaser Book"
                     },
                     {
                        "itemType":3009420,
                        "name":"Crown Bow"
                     }
                  ]
               },
               {
                  "itemRarity":3,
                  "gachaResultType":2,
                  "chance":20,
                  "color" : '#a4c8ff',
                  "items":[
                     {
                        "itemType":3009201,
                        "name":"Chaos Dagger"
                     },
                     {
                        "itemType":3009202,
                        "name":"Wide Spear"
                     },
                     {
                        "itemType":3009203,
                        "name":"Chain Sword"
                     },
                     {
                        "itemType":3009204,
                        "name":"Gyro Sword"
                     },
                     {
                        "itemType":3009205,
                        "name":"Gyro Spear"
                     },
                     {
                        "itemType":3009206,
                        "name":"Rainbow Sword"
                     },
                     {
                        "itemType":3009207,
                        "name":"Rainbow Spear"
                     },
                     {
                        "itemType":3009208,
                        "name":"Bone Dagger"
                     },
                     {
                        "itemType":3009209,
                        "name":"Bone Blade"
                     },
                     {
                        "itemType":3009210,
                        "name":"Bone Stick"
                     },
                     {
                        "itemType":3009211,
                        "name":"Bone Rod"
                     },
                     {
                        "itemType":3009212,
                        "name":"Extreme Wave Stick"
                     },
                     {
                        "itemType":3009213,
                        "name":"Extreme Wave Twin Blades"
                     },
                     {
                        "itemType":3009214,
                        "name":"Angel Stick"
                     },
                     {
                        "itemType":3009215,
                        "name":"Meow Meow Mace"
                     },
                     {
                        "itemType":3009216,
                        "name":"Meow Meow Blade"
                     },
                     {
                        "itemType":3009217,
                        "name":"Magically-Engineered Claymore"
                     },
                     {
                        "itemType":3009218,
                        "name":"Magically-Engineered Spear"
                     },
                     {
                        "itemType":3009219,
                        "name":"Magically-Engineered Axe"
                     },
                     {
                        "itemType":3009220,
                        "name":"Redpoint Bow"
                     },
                     {
                        "itemType":3009221,
                        "name":"Blue Shinsu Rod"
                     },
                     {
                        "itemType":3009222,
                        "name":"Shinheuh Cutlass"
                     },
                     {
                        "itemType":3009223,
                        "name":"Golden Rapier"
                     },
                     {
                        "itemType":3009224,
                        "name":"Bluepoint Lance"
                     }
                  ]
               },
               {
                  "itemRarity":2,
                  "gachaResultType":2,
                  "chance":74,
                  "color" : '#cdeaba',
                  "items":[
                     {
                        "itemType":3009101,
                        "name":"Blue Rune Bow"
                     },
                     {
                        "itemType":3009102,
                        "name":"Pink Rune Stick"
                     },
                     {
                        "itemType":3009103,
                        "name":"Blue Rune Hammer"
                     },
                     {
                        "itemType":3009104,
                        "name":"Red Knuckles"
                     },
                     {
                        "itemType":3009105,
                        "name":"Blue Rune Axe"
                     },
                     {
                        "itemType":3009106,
                        "name":"Red Rune Sword"
                     },
                     {
                        "itemType":3009107,
                        "name":"Rapier"
                     },
                     {
                        "itemType":3009108,
                        "name":"Weak Shinsu's Claymore"
                     },
                     {
                        "itemType":3009109,
                        "name":"Red-Marked Kunai"
                     },
                     {
                        "itemType":3009110,
                        "name":"Black Iron Claymore"
                     },
                     {
                        "itemType":3009111,
                        "name":"Purple Rune Rod"
                     },
                     {
                        "itemType":3009112,
                        "name":"Blue Rune Stick"
                     }
                  ]
               }
            ]



let histories = __NEXT_DATA__.props.pageProps.histories;

let gacha_datas = __NEXT_DATA__.props.pageProps.gachaDatas;

let getTime = (function getDate(string){
   let time_stamp = new Date().getTime();

   return {
      time: (string) => {
         return `${string} ${new Date().getTime() - time_stamp} ms`;
      }
   }
})();

console.log(getTime.time('First call before for_loop:'));


function groupDataByProperty(dataArray, propertyName) {
   let groupedData = {}
   for (let i=0; i<dataArray.length; i++) {
      let data = dataArray[i]

      let propertyValue = propertyName instanceof Function ? key(data) : data[propertyName]
     
      let tmpGroupDataArray = groupedData[propertyValue]

      if (!tmpGroupDataArray)
         tmpGroupDataArray = groupedData[propertyValue] = []
      tmpGroupDataArray.push(executedData(data, i))
   }


   let groups = Object.keys(groupedData)

   let resultingGroupedData = []
   for (let i=0; i<groups.length; i++) {
      let gachaName = groupedData[groups[i]][0].gachaName
      resultingGroupedData.push({gachaName: gachaName, data: groupedData[groups[i]]})
   }

   return resultingGroupedData
}

function executedData(data, id) {
   console.log(this)
   data.id = id

   // for(const obj of gachaInfoList){
   //    if (data.itemType instanceof  gachaInfoList.items)
   // }
}
console.log(groupDataByProperty(histories, 'gachaName'))
console.log(getTime.time('End of for_loop:'));

